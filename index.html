<!-- <script type="text/javascript">
    $(document).ready(function () {
        //Disable cut copy paste
        $('body').bind('cut copy paste', function (e) {
            e.preventDefault();
        });

        //Disable mouse right click
        $("body").on("contextmenu", function (e) {
            return false;
        });
    }); -->
</script>
<!DOCTYPE html>
<!-- oncopy="return false" oncut="return false" -->

<body>
    <html lang="en">

    <head>
        <title>Guides MU-HARDCORE</title>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta name="author" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <script>
            fetch('libraries.html')
                .then(response => response.text())
                .then(data => {
                    document.head.insertAdjacentHTML('beforeend', data);
                })
                .catch(error => console.error('Fehler beim Laden der Libraries:', error));
        </script>


        <style>
            .loader {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: #000;
                color: #fff;
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            }

            .hero {
                background: url(images/PNG/header-guides.jpg) center top no-repeat;
                background-size: cover;
                height: 100vh;
            }

            .hero .bg-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: #0000006e;
                /* Dunkleres Overlay */
                z-index: 1;
            }

            .hero-text {
                position: relative;
                z-index: 2;
            }

            .hero-text h6 {
                color: white;
                /* Weiße Schriftfarbe für h6 */
            }

            .hero-text h1 {
                color: white;
                /* Weiße Schriftfarbe für h1 */
            }
        </style>






        <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>


    </head>

    <body data-spy="scroll" data-target="#navbarNav" data-offset="50">

        <div class="loader">Loading...</div>

        <div id="navbar-container"></div>



        <section class="hero d-flex flex-column justify-content-center align-items-center" id="home">

            <div class="bg-overlay"></div>


            <div class="container">
                <div class="row">


                    <div class="col-lg-8 col-md-10 mx-auto col-12">
                        <div class="hero-text mt-5 text-center">
                            <img src="https://muhardcore.com/webassets/Update/img/logo_hardcoremu.png"
                                alt="MU HARDCORE!" style="margin-left: 00px;">


                            <!-- <input type="text" id="search-box" placeholder="Search..." autocomplete="off"
                                style="border: 3px solid yellow;" />
                            <ul id="autocomplete-results"></ul> -->

                            <h3 class="feature-title"
                                style="text-align: center;font-size: 40px;font-family: cinzel;font-weight: 800;color: #ffc436;text-shadow: 0 0 15px rgb(251 104 0);">
                                GUIDES SYSTEM</h3>
                            <p class="feature-p" style="color: #e0cdae;font-size: 20px;">WWW.MU-HARDCORE.COM</p>
                        </div>
                    </div>

                </div>

            </div>




            <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
                <div class="modal__overlay" tabindex="-1" data-micromodal-close>
                    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
                        <header class="modal__header">
                            <h2 class="modal__title" id="modal-1-title">
                                Search Your Adventure
                            </h2>
                            <button class="modal__close" aria-label="Close modal" data-micromodal-close>
                                <i class="fas fa-close"></i>
                            </button>
                        </header>
                        <main class="modal__content" id="modal-1-content">
                            <div class="searchBar">
                                <input id="search-box" type="text" name="searchQueryInput" placeholder="Search"
                                    value="" />
                                <button id="searchQuerySubmit" type="submit" name="searchQuerySubmit">
                                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                        <path fill="#666666"
                                            d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                                    </svg>
                                </button>

                            </div>


                            <ul id="autocomplete-results" class="my-scrollba"></ul>


                        </main>

                    </div>
                </div>
            </div>



        </section>

        <div id="footer-container"></div>








        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/aos.js"></script>
        <script src="js/smoothscroll.js"></script>
        <script src="js/custom.js"></script>
        <!-- jQuery laden -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <!-- Schutz-Skript -->
        <!-- <script src="js/protection.js"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const loader = document.querySelector('.loader');
                fetch('libraries.html?v=' + new Date().getTime())
                    .then(response => response.text())
                    .then(data => {
                        document.head.insertAdjacentHTML('beforeend', data);
                        return fetch('navbar.html?v=' + new Date().getTime());
                    })
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById('navbar-container').innerHTML = data;

                        // ✅ Initialize MicroModal AFTER navbar is injected
                        MicroModal.init();

                        // return fetch('footer.html?v=' + new Date().getTime()); // Load footer
                    })
                    .then(() => {
                        return fetch('footer.html?v=' + new Date().getTime());
                    })
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById('footer-container').innerHTML = data;
                        loader.style.display = 'none'; // Hide loading screen
                    })
                    .catch(error => console.error('Fehler beim Laden:', error));
            });
        </script>


        <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>

        <!-- <script>
            let fuse;
            let flatIndex = [];
            let sectionMapByPage = {};


            // Load section mapping
            fetch('./configs/section-mapping.json')
                .then(res => res.json())
                .then(data => {
                    // console.log(data);

                    sectionMapByPage = data;

                });

            fetch('./configs/search-index.json') // adjust if your file is in another folder
                .then(res => res.json())
                .then(data => {
                    // console.log(data);


                    flatIndex = Object.entries(data).map(([pageKey, pageData]) => ({
                        title: (pageData.title || '').toLowerCase(),
                        url: (pageData.url || '').toLowerCase(),
                        content: (pageData.content || '').toLowerCase(),
                        tags: (pageData.tags || []).map(tag => tag.toLowerCase())
                    }));


                    fuse = new Fuse(flatIndex, {
                        // keys: ['content'],
                        keys: [
                            { name: 'title', weight: 0.7 },
                            { name: 'tags', weight: 0.2 },
                            { name: 'content', weight: 0.1 }
                        ],
                        threshold: 0.3,
                        minMatchCharLength: 1,
                        ignoreLocation: true,
                        includeMatches: true,
                        useExtendedSearch: true,
                        includeScore: true,

                    });

                });

            const searchBox = document.getElementById('search-box');
            const resultsList = document.getElementById('autocomplete-results');


            resultsList.style.display = 'none'; // show results



         

            searchBox.addEventListener('input', () => {
                const query = searchBox.value.trim().toLowerCase();
                resultsList.innerHTML = '';


                // Hide by default
                resultsList.style.display = 'none';

                if (!query || !sectionMapByPage) return;


                const matchedResults = [];

                // Loop through all pages in the section mapping
                for (const [page, sections] of Object.entries(sectionMapByPage)) {
                    for (const [sectionName, sectionId] of Object.entries(sections)) {
                        if (sectionName.includes(query)) {
                            matchedResults.push({
                                title: sectionName,
                                url: `${page}?q=${encodeURIComponent(sectionId)}`
                            });
                        }
                    }
                }
                


                if (matchedResults.length === 0) {
                    // Show "no results" message only when query is not empty
                    const li = document.createElement('li');
                    li.textContent = '❌ No matching results found';
                    li.style.color = '#aaa';
                    li.style.fontStyle = 'italic';
                    resultsList.appendChild(li);

                    resultsList.style.display = 'block'; // show only when searching

                    return;
                }

                // Only show top 12 results
                matchedResults.slice(0, 20).forEach(result => {
                    const li = document.createElement('li');
                    const pageName = result.url.split('?')[0]; // Extract page file name
                    li.textContent = `${result.title} - ${pageName}`;
                    // li.textContent = result.title;
                    li.addEventListener('click', () => {
                        window.location.href = result.url;
                    });
                    resultsList.appendChild(li);
                });


                resultsList.style.display = 'block'; // show results

            });




            // Close results when clicking outside
            document.addEventListener('click', (e) => {
                if (!resultsList.contains(e.target) && e.target !== searchBox) {
                    resultsList.innerHTML = '';
                }
            });
        </script> -->


        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


        <script>
            let fuse;
            let flatIndex = [];
            let sectionMapByPage = {};

            let hideTimeout; // keep reference to the timeout
        
            $(document).ready(function () {
                // Load section mapping
                $.getJSON('./configs/section-mapping.json', function (data) {
                    sectionMapByPage = data;
                });
        
                // Load search index
                $.getJSON('./configs/search-index.json', function (data) {
                    flatIndex = $.map(data, function (pageData, pageKey) {
                        return {
                            title: (pageData.title || '').toLowerCase(),
                            url: (pageData.url || '').toLowerCase(),
                            content: (pageData.content || '').toLowerCase(),
                            tags: (pageData.tags || []).map(tag => tag.toLowerCase())
                        };
                    });
        
                    fuse = new Fuse(flatIndex, {
                        keys: [
                            { name: 'title', weight: 0.7 },
                            { name: 'tags', weight: 0.2 },
                            { name: 'content', weight: 0.1 }
                        ],
                        threshold: 0.3,
                        minMatchCharLength: 1,
                        ignoreLocation: true,
                        includeMatches: true,
                        useExtendedSearch: true,
                        includeScore: true,
                    });
                });
        
                const $searchBox = $('#search-box');
                const $resultsList = $('#autocomplete-results');
        
                $resultsList.hide(); // hide initially
        
                // helper: animate height change smoothly
                function animateHeight() {
                    const newHeight = $resultsList[0].scrollHeight;
                    $resultsList.stop().animate({ height: newHeight }, 200);
                }
        
                // Input listener
                $searchBox.on('input', function () {
                    const query = $(this).val().trim().toLowerCase();

                    clearTimeout(hideTimeout); // cancel any pending hide

                    $resultsList.empty();
        
                    if (!query || $.isEmptyObject(sectionMapByPage)) {
                        $resultsList.stop().animate({ height: 0 }, 200, function () {
                            $resultsList.hide();
                        });
                        return;
                    }
        
                    const matchedResults = [];
        
                    $.each(sectionMapByPage, function (page, sections) {
                        $.each(sections, function (sectionName, sectionId) {
                            if (sectionName.includes(query)) {
                                matchedResults.push({
                                    title: sectionName,
                                    url: `${page}?q=${encodeURIComponent(sectionId)}`
                                });
                            }
                        });
                    });
        
                    if (matchedResults.length === 0) {
                        $('<li>')
                            .text('❌ No matching results found')
                            .css({ color: '#aaa', fontStyle: 'italic' })
                            .appendTo($resultsList);
                    } else {
                        $.each(matchedResults.slice(0, 20), function (_, result) {
                            const pageName = result.url.split('?')[0];
                            $('<li>')
                                .text(`${result.title} - ${pageName}`)
                                .on('click', function () {
                                    window.location.href = result.url;
                                })
                                .appendTo($resultsList);
                        });
                    }
        
                    if (!$resultsList.is(':visible')) {
                        $resultsList.show().css({ height: 0 }); // reset to collapsed
                    }
                    animateHeight(); // always animate to new size
                });
        
                // Close results when clicking outside
                $(document).on('click', function (e) {
                    if (!$(e.target).closest('#autocomplete-results, #search-box').length) {
                        $resultsList.stop().animate({ height: 0 }, 200, function () {
                            $resultsList.hide().empty();
                        });
                    }
                });
            });
        </script>
        



        <script src="https://cdn.jsdelivr.net/npm/smooth-scrollbar@8.6.3/dist/smooth-scrollbar.js"></script>

        <script>
            let scrollbar;

            document.addEventListener('DOMContentLoaded', function () {
                var options = {
                    damping: 0.1,
                    alwaysShowTracks: true
                };

                // Initialize once
                scrollbar = Scrollbar.init(document.querySelector('.my-scrollbar'), options);
            });

            // Whenever you update search results
            function updateAutocompleteResults(items) {
                const ul = document.getElementById('autocomplete-results');
                ul.innerHTML = "";

                items.forEach(text => {
                    const li = document.createElement("li");
                    li.textContent = text;
                    ul.appendChild(li);
                });

                // Refresh scrollbar after adding items
                if (scrollbar) {
                    scrollbar.update();
                }
            }




        </script>












    </body>

    </html>